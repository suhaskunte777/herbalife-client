import{_ as H,l as P,m as K,s as i,a as c,c as g,w as y,f as e,g as x,t as w,k as p,p as q,u as l,q as d,v as u,e as b,b as G,T as J,h as Q,F as R,x as W,y as X,n as k,z as Z,A as ee}from"./index-0XO5Nko-.js";import{_ as se}from"./AuthHeader-UjLprxd0.js";import{I as f}from"./InputError-aQZSOD7q.js";import{K as te,N as ae,r as le,H as oe,B as ie,U as re,a as de}from"./ChevronUpDownIcon--D-4DnJR.js";const o=h=>(Z("data-v-3d15ad1e"),h=h(),ee(),h),ne={class:"py-12"},ue={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},me={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},ce=["value","data-label"],ge=["onSubmit"],pe=o(()=>e("h2",{class:"text-base font-semibold leading-7 text-gray-900"}," Personal Information ",-1)),fe={class:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-4"},ye={class:"sm:col-span-2"},be=o(()=>e("label",{for:"referredBy",class:"block text-sm font-medium leading-6 text-gray-900"},"Referred By",-1)),_e={class:"mt-2"},he={class:"sm:col-span-2"},ve={class:"relative mt-2"},xe={class:"flex items-center"},we=["src"],ke={class:"ml-3 block truncate"},Ne={class:"pointer-events-none absolute inset-y-0 right-0 ml-3 flex items-center pr-2"},De={class:"flex items-center"},Ve=["src"],Ce={class:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6"},Be={class:"sm:col-span-2"},Fe=o(()=>e("label",{for:"firstName",class:"block text-sm font-medium leading-6 text-gray-900"},"First name",-1)),Ue={class:"mt-2"},Ye={class:"sm:col-span-2"},Te=o(()=>e("label",{for:"middleName",class:"block text-sm font-medium leading-6 text-gray-900"},"Middle name",-1)),ze={class:"mt-2"},Ae={class:"sm:col-span-2"},Se=o(()=>e("label",{for:"lastName",class:"block text-sm font-medium leading-6 text-gray-900"},"Last name",-1)),Ie={class:"mt-2"},Ee={class:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-3"},Oe={class:"sm:col-span-1"},Me=o(()=>e("label",{for:"date_of_birth",class:"block text-sm font-medium leading-6 text-gray-900"},"Birth Date",-1)),Pe={class:"mt-2"},je={class:"sm:col-span-1"},$e=o(()=>e("label",{for:"year_of_birth",class:"block text-sm font-medium leading-6 text-gray-900"},"Birth Year",-1)),Le={class:"mt-2"},He={class:"sm:col-span-1"},Ke=o(()=>e("label",{for:"age",class:"block text-sm font-medium leading-6 text-gray-900"},"Age",-1)),qe={class:"mt-2"},Ge=o(()=>e("h2",{class:"text-base font-semibold leading-7 py-4 h-0 text-gray-900"}," Contact Information ",-1)),Je={class:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6"},Qe={class:"sm:col-span-3"},Re=o(()=>e("label",{for:"phone",class:"block text-sm font-medium leading-6 text-gray-900"},"Phone",-1)),We={class:"relative mt-2 rounded-md shadow-sm"},Xe={class:"absolute inset-y-0 left-0 flex items-center"},Ze=o(()=>e("option",null,"+91",-1)),es=o(()=>e("option",null,"+61",-1)),ss=o(()=>e("option",null,"+1",-1)),ts=[Ze,es,ss],as={class:"sm:col-span-3"},ls=o(()=>e("label",{for:"email",class:"block text-sm font-medium leading-6 text-gray-900"},"Email",-1)),os={class:"mt-2"},is={class:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-2"},rs={class:"sm:col-span-1"},ds=o(()=>e("label",{for:"address1",class:"block text-sm font-medium leading-6 text-gray-900"},"Address Line 1 ",-1)),ns={class:"mt-2"},us={class:"sm:col-span-1"},ms=o(()=>e("label",{for:"address2",class:"block text-sm font-medium leading-6 text-gray-900"},"Address Line 2 ",-1)),cs={class:"mt-2"},gs={class:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-4"},ps={class:"sm:col-span-1"},fs=o(()=>e("label",{for:"zip",class:"block text-sm font-medium leading-6 text-gray-900"},"Pincode ",-1)),ys={class:"mt-2"},bs=["value"],_s={class:"sm:col-span-1"},hs=o(()=>e("label",{for:"city",class:"block text-sm font-medium leading-6 text-gray-900"},"District ",-1)),vs={class:"mt-2"},xs=["disabled"],ws={class:"sm:col-span-1"},ks=o(()=>e("label",{for:"state",class:"block text-sm font-medium leading-6 text-gray-900"},"State ",-1)),Ns={class:"mt-2"},Ds=["disabled"],Vs={class:"sm:col-span-1"},Cs=o(()=>e("label",{for:"country",class:"block text-sm font-medium leading-6 text-gray-900"},"Country ",-1)),Bs={class:"mt-2"},Fs=["disabled"],Us=o(()=>e("div",{class:"border-b border-gray-900/10 pb-12"},null,-1)),Ys={class:"mt-6 flex items-center justify-end gap-x-6"},Ts=["disabled"],zs={__name:"ClientCreate",setup(h){const t=P({referredBy:"",gender:{name:"Male",avatar:"https://images.unsplash.com/photo-1491528323818-fdd1faba62cc?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"},firstName:"",middleName:"",lastName:"",countryCode:"+91",phone:"",email:"",birthDate:"",birthDateType:"",birthYear:"",birthYearType:"",age:"",ageType:"",address1:"",address2:"",zip:"",city:"",state:"",country:""}),r=P({disableAddressFields:!1,progress:!0,percentage:0,processing:!1,addressFetched:!1});K(t.value,()=>{let m=Object.keys(t.value).length,s=Object.values(t.value).filter(_=>_!=="").length,n=Math.round(s/m*100);r.value.percentage=n});const j=(m,s)=>{m.zip!==s.target.value&&s.target.value>1e5&&s.target.value<999999&&(r.value.addressFetched=!1),!r.value.addressFetched&&s.target.value>1e5&&s.target.value<999999&&(r.value.disableAddressFields=!0,console.log("API called with value",s.target.value),X.get(`https://api.postalpincode.in/pincode/${s.target.value}`).then(n=>{n.data[0].Status=="Success"&&(m.city=n.data[0].PostOffice[0].District,m.state=n.data[0].PostOffice[0].State,m.country=n.data[0].PostOffice[0].Country),r.value.addressFetched=!0}).catch(n=>{console.log(n)}).finally(()=>{r.value.disableAddressFields=!1})),m.zip=s.target.value},v=m=>{if(m=="birthDate"){const s=new Date(t.value.birthDate);t.value.birthYear=s.getFullYear();const n=new Date;t.value.age=n.getFullYear()-s.getFullYear(),t.value.birthDateType="Exact",t.value.birthYearType="Calculated",t.value.ageType="Calculated"}else if(m=="birthYear"){const s=new Date;t.value.age=s.getFullYear()-t.value.birthYear,t.value.birthDateType="",t.value.birthYearType="Exact",t.value.ageType="calculated"}else if(m=="age"){const s=new Date;t.value.birthYear=s.getFullYear()-t.value.age,t.value.birthDateType="",t.value.birthYearType="calculated",t.value.ageType="Exact"}},$=()=>{r.value.processing=!0;const s={...Object.fromEntries(Object.entries(t.value).filter(([n,_])=>_!=="")),gender:t.value.gender.name.toLowerCase()};i.dispatch("createClient",s),r.value.processing=!1},L=i.state.genders;return(m,s)=>(c(),g(se,{title:"Clients"},{default:y(()=>{var n,_,N,D,V,C,B,F,U,Y,T,z,A,S,I,E;return[e("div",ne,[e("div",ue,[e("div",me,[r.value.progress?(c(),x("progress",{key:0,value:r.value.percentage,class:"w-full [&::-webkit-progress-bar]:rounded-lg [&::-webkit-progress-value]:rounded-lg [&::-webkit-progress-bar]:bg-slate-300 [&::-webkit-progress-value]:bg-green-400 [&::-moz-progress-bar]:bg-green-400",max:"100","data-label":r.value.percentage+"%"},w(r.value.percentage)+" % ",9,ce)):p("",!0),e("form",{class:"p-5 mt-5",onSubmit:q($,["prevent"])},[pe,e("div",fe,[e("div",ye,[(n=l(i).state.errors)!=null&&n.referredBy?(c(),g(f,{key:0,messages:(_=l(i).state.errors)==null?void 0:_.referredBy,entity:"referredBy"},null,8,["messages"])):p("",!0),be,e("div",_e,[d(e("input",{"onUpdate:modelValue":s[0]||(s[0]=a=>t.value.referredBy=a),type:"text",name:"referredBy",id:"referredBy",autocomplete:"referredBy",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,512),[[u,t.value.referredBy]])])]),e("div",he,[b(l(ie),{as:"div",modelValue:t.value.gender,"onUpdate:modelValue":s[1]||(s[1]=a=>t.value.gender=a)},{default:y(()=>[b(l(te),{class:"block text-sm font-medium leading-6 text-gray-900"},{default:y(()=>[G("Gender ")]),_:1}),e("div",ve,[b(l(ae),{class:"relative w-full cursor-default rounded-md bg-white py-1.5 pl-3 pr-10 text-left text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 sm:text-sm sm:leading-6"},{default:y(()=>[e("span",xe,[e("img",{src:t.value.gender.avatar,alt:"",class:"h-5 w-5 flex-shrink-0 rounded-full"},null,8,we),e("span",ke,w(t.value.gender.name),1)]),e("span",Ne,[b(l(le),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])]),_:1}),b(J,{"leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:y(()=>[b(l(oe),{class:"absolute z-10 mt-1 max-h-56 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:y(()=>[(c(!0),x(R,null,Q(l(L),a=>(c(),g(l(re),{as:"template",key:a.id,value:a},{default:y(({active:O,selected:M})=>[e("li",{class:k([O?"bg-indigo-600 text-white":"text-gray-900","relative cursor-default select-none py-2 pl-3 pr-9"])},[e("div",De,[e("img",{src:a.avatar,alt:"",class:"h-5 w-5 flex-shrink-0 rounded-full"},null,8,Ve),e("span",{class:k([M?"font-semibold":"font-normal","ml-3 block truncate"])},w(a.name),3)]),M?(c(),x("span",{key:0,class:k([O?"text-white":"text-indigo-600","absolute inset-y-0 right-0 flex items-center pr-4"])},[b(l(de),{class:"h-5 w-5","aria-hidden":"true"})],2)):p("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1},8,["modelValue"])])]),e("div",Ce,[e("div",Be,[(N=l(i).state.errors)!=null&&N.first_name?(c(),g(f,{key:0,messages:(D=l(i).state.errors)==null?void 0:D.first_name,entity:"first_name"},null,8,["messages"])):p("",!0),Fe,e("div",Ue,[d(e("input",{"onUpdate:modelValue":s[2]||(s[2]=a=>t.value.firstName=a),type:"text",name:"firstName",id:"firstName",autocomplete:"firstName",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,512),[[u,t.value.firstName]])])]),e("div",Ye,[(V=l(i).state.errors)!=null&&V.middle_name?(c(),g(f,{key:0,messages:(C=l(i).state.errors)==null?void 0:C.middle_name,entity:"middle_name"},null,8,["messages"])):p("",!0),Te,e("div",ze,[d(e("input",{"onUpdate:modelValue":s[3]||(s[3]=a=>t.value.middleName=a),type:"text",name:"middleName",id:"middleName",autocomplete:"middleName",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,512),[[u,t.value.middleName]])])]),e("div",Ae,[(B=l(i).state.errors)!=null&&B.last_name?(c(),g(f,{key:0,messages:(F=l(i).state.errors)==null?void 0:F.last_name,entity:"last_name"},null,8,["messages"])):p("",!0),Se,e("div",Ie,[d(e("input",{"onUpdate:modelValue":s[4]||(s[4]=a=>t.value.lastName=a),type:"text",name:"lastName",id:"lastName",autocomplete:"lastName",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,512),[[u,t.value.lastName]])])])]),e("div",Ee,[e("div",Oe,[Me,e("div",Pe,[d(e("input",{"onUpdate:modelValue":s[5]||(s[5]=a=>t.value.birthDate=a),onInput:s[6]||(s[6]=a=>v("birthDate")),type:"date",name:"date_of_birth",id:"date_of_birth",autocomplete:"date_of_birth",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,544),[[u,t.value.birthDate]])])]),e("div",je,[(U=l(i).state.errors)!=null&&U.birth_year?(c(),g(f,{key:0,messages:(Y=l(i).state.errors)==null?void 0:Y.birth_year,entity:"birth_year"},null,8,["messages"])):p("",!0),$e,e("div",Le,[d(e("input",{"onUpdate:modelValue":s[7]||(s[7]=a=>t.value.birthYear=a),onInput:s[8]||(s[8]=a=>v("birthYear")),type:"number",min:"1900",max:"2099",name:"year_of_birth",id:"year_of_birth",autocomplete:"family-name",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,544),[[u,t.value.birthYear]])])]),e("div",He,[(T=l(i).state.errors)!=null&&T.age?(c(),g(f,{key:0,messages:(z=l(i).state.errors)==null?void 0:z.age,entity:"age"},null,8,["messages"])):p("",!0),Ke,e("div",qe,[d(e("input",{"onUpdate:modelValue":s[9]||(s[9]=a=>t.value.age=a),onInput:s[10]||(s[10]=a=>v("age")),type:"number",name:"age",id:"age",autocomplete:"age",min:"0",max:"150",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,544),[[u,t.value.age]])])])]),Ge,e("div",Je,[e("div",Qe,[(A=l(i).state.errors)!=null&&A.phone?(c(),g(f,{key:0,messages:(S=l(i).state.errors)==null?void 0:S.phone,entity:"phone"},null,8,["messages"])):p("",!0),Re,e("div",We,[e("div",Xe,[d(e("select",{"onUpdate:modelValue":s[11]||(s[11]=a=>t.value.countryCode=a),id:"countryCode",name:"countryCode",class:"h-full rounded-md border-0 bg-transparent py-0 pl-2 pr-7 text-gray-500 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm"},ts,512),[[W,t.value.countryCode]])]),d(e("input",{"onUpdate:modelValue":s[12]||(s[12]=a=>t.value.phone=a),type:"text",name:"phone",id:"phone",class:"block w-full rounded-md border-0 py-1.5 pl-16 pr-20 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,512),[[u,t.value.phone]])])]),e("div",as,[(I=l(i).state.errors)!=null&&I.email?(c(),g(f,{key:0,messages:(E=l(i).state.errors)==null?void 0:E.email,entity:"email"},null,8,["messages"])):p("",!0),ls,e("div",os,[d(e("input",{"onUpdate:modelValue":s[13]||(s[13]=a=>t.value.email=a),type:"email",name:"email",id:"email",autocomplete:"email",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,512),[[u,t.value.email]])])])]),e("div",is,[e("div",rs,[ds,e("div",ns,[d(e("input",{"onUpdate:modelValue":s[14]||(s[14]=a=>t.value.address1=a),type:"text",name:"address1",id:"address1",autocomplete:"address1",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,512),[[u,t.value.address1]])])]),e("div",us,[ms,e("div",cs,[d(e("input",{"onUpdate:modelValue":s[15]||(s[15]=a=>t.value.address2=a),type:"text",name:"address2",id:"address2",autocomplete:"address2",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,512),[[u,t.value.address2]])])])]),e("div",gs,[e("div",ps,[fs,e("div",ys,[e("input",{value:t.value.zip,type:"number",name:"zip",id:"zip",onKeyup:s[16]||(s[16]=a=>j(t.value,a)),autocomplete:"zip",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,40,bs)])]),e("div",_s,[hs,e("div",vs,[d(e("input",{"onUpdate:modelValue":s[17]||(s[17]=a=>t.value.city=a),disabled:r.value.disableAddressFields,type:"text",name:"city",id:"city",autocomplete:"city",class:"block w-full disabled:bg-slate-300 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,xs),[[u,t.value.city]])])]),e("div",ws,[ks,e("div",Ns,[d(e("input",{"onUpdate:modelValue":s[18]||(s[18]=a=>t.value.state=a),disabled:r.value.disableAddressFields,type:"text",name:"state",id:"state",autocomplete:"state",class:"block w-full disabled:bg-slate-300 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Ds),[[u,t.value.state]])])]),e("div",Vs,[Cs,e("div",Bs,[d(e("input",{"onUpdate:modelValue":s[19]||(s[19]=a=>t.value.country=a),disabled:r.value.disableAddressFields,type:"text",name:"country",id:"country",autocomplete:"country",class:"block w-full disabled:bg-slate-300 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Fs),[[u,t.value.country]])])])]),Us,e("div",Ys,[e("button",{type:"submit",disabled:r.value.processing,class:"ounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm disabled:bg-gray-400 hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"}," Sign in ",8,Ts)])],40,ge)])])])]}),_:1}))}},Os=H(zs,[["__scopeId","data-v-3d15ad1e"]]);export{Os as default};
